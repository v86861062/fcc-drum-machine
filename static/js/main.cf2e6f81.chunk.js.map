{"version":3,"sources":["SoundButton.js","Switch.js","TextDisplay.js","App.js","serviceWorker.js","index.js"],"names":["SoundButton","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleKeyPress","e","power","keyASCII","keyLetter","charCodeAt","keyCode","playAudio","sound","current","currentTime","volume","play","onKeyPress","id","React","createRef","document","addEventListener","removeEventListener","react_default","a","createElement","className","onClick","ref","src","soundSrc","Component","Switch","name","type","checked","switchOn","readOnly","TextDisplay","text","bankOne","url","bankTwo","App","handlePowerPress","setState","prevState","setDisplayText","state","handleBankPress","bank","handleVolumeChange","v","Number","target","value","Math","round","str","timer","clearTimeout","setTimeout","_this2","buttons","map","index","src_SoundButton","key","src_Switch","src_TextDisplay","min","max","step","onChange","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cf2e6f81.chunk.js","sourcesContent":["import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n//import Sound from 'react-sound'\r\n\r\nclass SoundButton extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.sound = React.createRef()\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (!this.props.power) {\r\n      return\r\n    }\r\n\r\n    let keyASCII = this.props.keyLetter.charCodeAt(0)\r\n    if (e.keyCode === keyASCII) {\r\n      this.playAudio()\r\n    }\r\n  }\r\n\r\n  playAudio = () => {\r\n    this.sound.current.currentTime = 0\r\n    this.sound.current.volume = this.props.volume\r\n    this.sound.current.play()\r\n    this.props.onKeyPress(this.props.id)\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this.handleKeyPress)\r\n  }\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"keydown\", this.handleKeyPress)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"drum-pad\" id={this.props.id} onClick={this.playAudio}>        \r\n        <audio id={this.props.keyLetter} className=\"clip\"\r\n          ref={this.sound} src={this.props.soundSrc}/>\r\n        <p>{this.props.keyLetter}</p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nSoundButton.propTypes = {\r\n  power: PropTypes.bool.isRequired,\r\n  keyLetter: PropTypes.string.isRequired,\r\n  soundSrc: PropTypes.string.isRequired,\r\n  volume: PropTypes.number.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  onKeyPress: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default SoundButton\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport './Switch.scss';\r\n\r\nfunction Switch(props){\r\n    return (\r\n        <label className=\"switch\">\r\n            <p>{props.name}</p>\r\n            <input type=\"checkbox\"\r\n                onClick={props.onClick}\r\n                checked={props.switchOn}\r\n                readOnly/>\r\n            <span className=\"slider\"></span>\r\n        </label>\r\n    )\r\n}\r\n\r\nSwitch.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    switchOn: PropTypes.bool.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Switch","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nfunction TextDisplay(props) {  \r\n    return <h1 id=\"display\">{props.text}</h1>  \r\n}\r\n\r\nTextDisplay.propTypes = {\r\n  text: PropTypes.string.isRequired\r\n}\r\n\r\nexport default TextDisplay\r\n","import React, { Component } from 'react'\nimport './App.scss'\nimport SoundButton from './SoundButton.js'\nimport Switch from './Switch.js'\nimport TextDisplay from './TextDisplay'\n\nconst bankOne = [{\n  keyLetter: 'Q',\n  id: 'Heater-1',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3'\n}, {\n  keyLetter: 'W',\n  id: 'Heater-2',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3'\n}, {\n  keyLetter: 'E',\n  id: 'Heater-3',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3'\n}, {\n  keyLetter: 'A',\n  id: 'Heater-4',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3'\n}, {\n  keyLetter: 'S',\n  id: 'Clap',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3'\n}, {\n  keyLetter: 'D',\n  id: 'Open-HH',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3'\n}, {\n  keyLetter: 'Z',\n  id: \"Kick-n'-Hat\",\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3'\n}, {\n  keyLetter: 'X',\n  id: 'Kick',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3'\n}, {\n  keyLetter: 'C',\n  id: 'Closed-HH',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3'\n},]\n\nconst bankTwo = [{\n  keyLetter: 'Q',\n  id: 'Chord-1',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3'\n}, {\n  keyLetter: 'W',\n  id: 'Chord-2',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3'\n}, {\n  keyLetter: 'E',\n  id: 'Chord-3',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3'\n}, {\n  keyLetter: 'A',\n  id: 'Shaker',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3'\n}, {\n  keyLetter: 'S',\n  id: 'Open-HH',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3'\n}, {\n  keyLetter: 'D',\n  id: 'Closed-HH',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3'\n}, {\n  keyLetter: 'Z',\n  id: 'Punchy-Kick',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3'\n}, {\n  keyLetter: 'X',\n  id: 'Side-Stick',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3'\n}, {\n  keyLetter: 'C',\n  id: 'Snare',\n  url: 'https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3'\n}]\n\nclass App extends Component {\n  constructor(props) {\n    super(props)         \n    this.state = {\n      power: true,\n      bank: true,\n      text: \"\",\n      volume: 0.5\n    }\n    this.timer = null\n  }\n\n  handlePowerPress = () => {    \n    this.setState(prevState => ({ power: !prevState.power }))\n    this.setDisplayText(this.state.power ? \"Power: OFF\" : \"Power: ON\")\n  }\n\n  handleBankPress = () => {    \n    this.setState(prevState => ({ bank: !prevState.bank }))\n    this.setDisplayText(this.state.bank ? \"Smooth Piano Kit\" : \"Heater Kit\")\n  }\n\n  handleVolumeChange = (e) => {\n    let v = Number(e.target.value)\n    this.setState({ volume: v })\n    this.setDisplayText(\"Volume :\" + Math.round(v*100))\n  }\n\n  setDisplayText = (str) => {\n    this.setState({ text: str })    \n    if(this.timer){ \n      /* 這是為了防止新的文字被上次啟動的計時給清除 */\n      clearTimeout(this.timer) \n    }\n    this.timer = setTimeout(() => this.setState({ text: \"\" }), 1000)\n  }\n\n  render() {\n    let nowBank = this.state.bank ? bankOne : bankTwo\n\n    const buttons = nowBank.map(\n      (index) => \n        <SoundButton \n          key={index.keyLetter}\n          power={this.state.power} \n          keyLetter={index.keyLetter} \n          soundSrc={index.url} \n          volume={this.state.volume}\n          id={index.id}\n          onKeyPress={this.setDisplayText}/>  \n    )\n\n    return (\n      <div id=\"drum-machine\">\n        \n        <div className=\"buttons-area\">\n          {buttons}\n        </div>\n\n        <div className=\"swtich-area\">\n          <Switch \n            name=\"Power\"\n            onClick={this.handlePowerPress} \n            switchOn={this.state.power} />\n          \n          <Switch \n            name=\"Bank\"\n            onClick={this.handleBankPress} \n            switchOn={this.state.bank} />\n        </div>\n\n        <TextDisplay \n          text={this.state.text} />\n\n        <div className=\"volume-area\">          \n          <input type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" \n            value={this.state.volume} \n            onChange={this.handleVolumeChange}/>\n          <p>volume</p>\n        </div>\n        \n      </div>\n    )\n  }\n}\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}